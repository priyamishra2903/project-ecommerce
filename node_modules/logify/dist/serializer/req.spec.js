'use strict';

var _defineProperty = require('babel-runtime/helpers/define-property')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _req2 = require('./req');

var _req3 = _interopRequireDefault(_req2);

var _assert = require('assert');

describe('serializer/req', function () {
  it('should ignore entry when req is not present', function () {
    (0, _assert.equal)((0, _req3['default'])({}).req, undefined);
  });
  ['method', 'url', 'headers'].forEach(function (field) {
    it('should serialize ' + field, function () {
      (0, _assert.equal)((0, _req3['default'])({
        req: _defineProperty({}, field, field)
      }).req[field], field);
    });
  });
  it('should serialize requestId', function () {
    (0, _assert.equal)((0, _req3['default'])({
      req: {},
      context: {
        requestId: 123
      }
    }).req.requestId, 123);
  });
  it('should serialize remodeAddress', function () {
    (0, _assert.equal)((0, _req3['default'])({
      req: {
        connection: {
          remoteAddress: '127.0.0.1'
        }
      }
    }).req.ip, '127.0.0.1');
  });
});