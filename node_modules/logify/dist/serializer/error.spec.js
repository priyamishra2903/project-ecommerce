'use strict';

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _error = require('./error');

var _error2 = _interopRequireDefault(_error);

var _assert = require('assert');

describe('serializer/error', function () {
  it('should do nothing when entry has no error', function () {
    (0, _assert.equal)((0, _error2['default'])({}).error, undefined);
  });
  ['message', 'statusCode', 'body', 'stack', 'code', 'signal', 'name'].forEach(function (field) {
    it('should serialize ' + field + ' field', function () {
      var e = new Error();
      e[field] = field;
      (0, _assert.equal)((0, _error2['default'])(e)[field], field);
    });
    if (['message', 'stack', 'name'].includes(field)) {
      return;
    }
    it('should skip field ' + field + ' when undefined', function () {
      var e = new Error();
      (0, _assert.equal)((0, _error2['default'])(e)[field], undefined);
    });
  });
});