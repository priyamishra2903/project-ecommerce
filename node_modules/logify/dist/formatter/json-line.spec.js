'use strict';

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _jsonLine = require('./json-line');

var _jsonLine2 = _interopRequireDefault(_jsonLine);

var _assert = require('assert');

describe('formatter/json', function () {
  it('should stringify regular objects', function () {
    (0, _assert.equal)((0, _jsonLine2['default'])({
      foo: 1,
      bar: 'baz',
      qux: 3.14,
      woof: [1, 2.3, 'xxx'],
      garply: {
        foo: {
          bar: {
            baz: 1337
          }
        }
      },
      q: undefined,
      z: null
    }), '{"foo":1,"bar":"baz","qux":3.14,"woof":[1,2.3,"xxx"],"garply":{"foo":{"bar":{"baz":1337}}},"z":null}\n');
  });
  it('should stringify circular objects', function () {
    var a = {};
    var b = { a: a };
    a.b = b;
    (0, _assert.equal)((0, _jsonLine2['default'])(b), '{"a":{"b":"[Circular]"}}\n');
  });
});